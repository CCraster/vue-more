(function(t){function e(e){for(var n,a,r=e[0],l=e[1],c=e[2],d=0,p=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&p.push(i[a][0]),i[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],n=!0,a=1;a<o.length;a++){var l=o[a];0!==i[l]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=o[0]))}return t}var n={},i={app:0},s=[];function a(t){return r.p+"js/"+({about:"about"}[t]||t)+"."+{about:"f84293e7"}[t]+".js"}function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.e=function(t){var e=[],o=i[t];if(0!==o)if(o)e.push(o[2]);else{var n=new Promise(function(e,n){o=i[t]=[e,n]});e.push(o[2]=n);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=a(t);var c=new Error;s=function(e){l.onerror=l.onload=null,clearTimeout(d);var o=i[t];if(0!==o){if(o){var n=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+n+": "+s+")",c.name="ChunkLoadError",c.type=n,c.request=s,o[1](c)}i[t]=void 0}};var d=setTimeout(function(){s({type:"timeout",target:l})},12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(e)},r.m=t,r.c=n,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/vue-more/",r.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var u=c;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"01bc":function(t,e,o){},"0e8d":function(t,e,o){t.exports=o.p+"img/todo-page-icon.c55469fe.jpg"},"1c8e":function(t,e,o){},"21e0":function(t,e,o){"use strict";var n=o("c42c"),i=o.n(n);i.a},"221d":function(t,e,o){"use strict";var n=o("01bc"),i=o.n(n);i.a},"2b02":function(t,e,o){"use strict";var n=o("cb2f"),i=o.n(n);i.a},"2c7d":function(t,e,o){},"352e":function(t,e,o){},"4a85":function(t,e,o){"use strict";var n=o("9080"),i=o.n(n);i.a},5514:function(t,e,o){"use strict";var n=o("8b92"),i=o.n(n);i.a},"556a":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("cadf"),o("551c"),o("f751"),o("097d");var n=o("2b0e"),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},s=[],a={},r=a,l=(o("afa2"),o("2877")),c=Object(l["a"])(r,i,s,!1,null,"6df37dce",null),d=c.exports,u=o("8c4f"),p=o("a78e"),f=o.n(p),g={setAttribute:function(t,e,o){return o?f.a.set(t,e,{expires:o}):f.a.set(t,e)},getAttribute:function(t){return f.a.get(t)},remove:function(t){return f.a.remove(t)}},m="TOKEN_KEY",h="USER_KEY",b={ROOT:"ROOT",GUEST_ORDINARY:"GUEST_ORDINARY",GUEST_HASSOMETHING:"GUEST_HASSOMETHING"},v="6f63ac9cf42770a1ab4699b1620a8729",y="85649915f0fac602008b7e1b3f485337",T="27e47198a2e4bf5dd650dc709e8c22cd",k="add-todolist-item",O="edit-item",w="delete-item",C="change-todolist-mode",_=[{name:"博客后台",index:"blog-manage"},{name:"博客",index:"blog"},{name:"Todo List",index:"todolist"},{name:"我，这只咸鱼",index:"aboutme"}],S=[{name:"博客",index:"blog"},{name:"我，这只咸鱼",index:"aboutme"}],x=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login"},[o("vue-particles",{staticClass:"particles",attrs:{color:"#453999",linesColor:"#453999"}}),o("LoginPanel")],1)},j=[],D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-container"},[n("header",{staticClass:"login-header"},[n("img",{staticClass:"img-portrait",attrs:{id:"portrait-root",alt:"portrait-root",src:o("8aeb")},on:{click:function(e){return t.portraitClicked(e)}}}),n("img",{staticClass:"img-portrait",attrs:{id:"portrait-guest",alt:"portrait-guest",src:o("e8c9")},on:{click:function(e){return t.portraitClicked(e)}}}),n("span",[t._v(t._s(t.currentUser))])]),n("section",{staticClass:"login-content"},[n("div",{staticClass:"login-input-container"},[n("el-input",{directives:[{name:"show",rawName:"v-show",value:t.rootPortraitHighlighted,expression:"rootPortraitHighlighted"}],attrs:{placeholder:"输入暗号吧，少年",size:"small","prefix-icon":"el-icon-key","show-password":""},model:{value:t.loginPassword,callback:function(e){t.loginPassword=e},expression:"loginPassword"}}),n("span",{directives:[{name:"show",rawName:"v-show",value:t.rootPortraitHighlighted,expression:"rootPortraitHighlighted"}],staticClass:"login-forget-tip",on:{click:t.forgetPasswordLinkClicked}},[t._v("忘记密码?")]),n("span",{directives:[{name:"show",rawName:"v-show",value:!t.rootPortraitHighlighted,expression:"!rootPortraitHighlighted"}],staticClass:"login-guest-tip"},[t._v("你可以选择「登陆」查看受限内容，或者，尝试一下「有东西」。")])],1),n("div",{staticClass:"login-button-container"},[n("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(e){return t.handleLoginButtonClick("login")}}},[t._v("登陆")]),n("el-button",{attrs:{size:"small",type:"warning",plain:""},on:{click:function(e){return t.handleLoginButtonClick("cancel")}}},[t._v("\n                "+t._s(t.rootPortraitHighlighted?"取消":"有东西")+"\n            ")])],1)])])},P=[],B=(o("8e6e"),o("ac6a"),o("456d"),o("96cf"),o("3b8d")),$=o("bd86"),E=o("01e8"),I=o.n(E);n["default"].use(I.a);var N=n["default"].prototype.$anime;function R(t){var e=1300;N({targets:t,easing:"easeInOutBack",duration:e,top:["75%","25%"],opacity:[0,1]})}function A(t,e,o){var n=500,i=N.timeline({easing:"easeInOutQuad",autoplay:!1,duration:n}).add({targets:t,width:[80,30],translateX:function(){return"#portrait-root"===t?[-40,-70]:[-40,40]},translateY:[-40,-15],rotateY:[0,150]}).add({targets:e,width:[30,80],translateX:function(){return"#portrait-root"===t?[40,-40]:[-70,-40]},translateY:[-15,-40],rotateY:[150,0]},0).add({targets:o,backgroundColor:function(){return"#portrait-root"===t?["rgba(123, 195, 253, 0.745)","rgba(246, 117, 5, 0.745)"]:["rgba(246, 117, 5, 0.745)","rgba(123, 195, 253, 0.745)"]}},0);return i}var M=o("bc3a"),z=o.n(M),L=o("5c96"),U=o.n(L),H=o("2f62"),F={verifyToken:function(t){return console.log(t),J({url:"/user?access_token=".concat(t)})}},G="TOKEN_KEY",V={state:{token:g.getAttribute(G)},mutations:{SET_TOKEN:function(t,e){t.token=e,g.setAttribute(G,e,30)},REMOVE_TOKEN:function(t){t.token=null,g.remove(G)}},actions:{Authentication:function(t,e){var o=t.commit;F.verifyToken(e).then(function(t){var i=t.data,s="CCraster";s==i["login"]?(o("SET_TOKEN",e),n["default"].prototype.$notify({title:"成功",message:"Token绑定成功",type:"success"})):n["default"].prototype.$message({message:"Token用户不一致",type:"error"})}).catch(function(){})},Cancellation:function(t){var e=t.commit;e("REMOVE_TOKEN"),n["default"].prototype.$notify({title:"成功",message:"Token解绑成功",type:"success"})}}};n["default"].use(H["a"]);var Y=new H["a"].Store({modules:{token:V},state:{loginUserType:g.getAttribute(h),selectedTodolistName:"",selectedTodolistType:"",selectedBlockName:""},getters:{},mutations:{setLoginUserType:function(t,e){t.loginUserType=e},setSelectedTodolistName:function(t,e){t.selectedTodolistName=e},setSelectedTodolistType:function(t,e){t.selectedTodolistType=e},setSelectedBlockName:function(t,e){t.selectedBlockName=e}},actions:{}}),W=z.a.create({baseURL:"https://api.github.com",time:15e3});W.interceptors.request.use(function(t){var e=Y.state.token.token;if(e){var o="?";t.url.indexOf("?")>=0&&(o="&"),t.url=t.url+o+"access_token="+e}return t},function(t){L["Message"].error(t)}),W.interceptors.response.use(function(t){return t},function(t){var e;switch(t.response.status){case 404:e="Token未绑定或Token错误";break;default:e=t.response.data.message;break}return L["Message"].error(e),Promise.reject("error")});var J=W,K={list:function(t){console.log(t)},getSingleGist:function(t){return J({url:"/gists/".concat(t)})},addGistFile:function(t,e){var o={files:Object($["a"])({},e.uid,{content:JSON.stringify(e)})};return J({url:"/gists/".concat(t),data:o,method:"patch"})},editGistFile:function(t,e){var o={files:Object($["a"])({},e.uid,{content:JSON.stringify(e)})};return J({url:"/gists/".concat(t),data:o,method:"patch"})},deleteGistFile:function(t,e){var o={files:Object($["a"])({},e,null)};return J({url:"/gists/".concat(t),data:o,method:"patch"})}};o("9278"),o("c5f6"),o("87f3");function q(t){var e=t.data.files;for(var o in e)e[o].content=JSON.parse(e[o].content);return e}function X(t){var e=function(t){return t>=10?t:"0"+t},o=new Date(t);return e(o.getFullYear())+"-"+e(o.getMonth()+1)+"-"+e(o.getDate())+" "+e(o.getHours())+":"+e(o.getMinutes())+":"+e(o.getSeconds())}function Q(t,e,o){var n=JSON.parse(JSON.stringify(t)),i=n.todolistContent,s={};return i.forEach(function(t,n){if(!(o&&t.itemContent.indexOf(o)<0)){var i=a(t.createdTime,e);s[i]||(s[i]={title:i,items:[],createdTime:Number.MAX_SAFE_INTEGER,lastModifiedTime:Number.MIN_SAFE_INTEGER}),t["originIndex"]=n,t.createdTime<s[i].createdTime&&(s[i].createdTime=t.createdTime),t.lastModifiedTime>s[i].lastModifiedTime&&(s[i].lastModifiedTime=t.lastModifiedTime),s[i].items.push(t)}}),n.todolistContent=s,n;function a(t,e){var o={year:function(t){return new Date(t).getFullYear()+"年"},month:function(t){var e=new Date(t),o=2;return"".concat(e.getFullYear(),"年").concat((Array(o).join("0")+(e.getMonth()+1)).slice(-o),"月")},week:function(t){var e=new Date(t),o=new Date(e.getFullYear(),0,1),n=o.getDay(),i=1;0!=n&&(i=7-n+1),o=new Date(e.getFullYear(),0,1+i);var s=Math.ceil((e.valueOf()-o.valueOf())/864e5),a=Math.ceil(s/7);return"".concat(e.getFullYear(),"年第").concat(a+1,"周")},day:function(t){var e=new Date(t),o=2;return"".concat(e.getFullYear(),"年").concat((Array(o).join("0")+(e.getMonth()+1)).slice(-o),"月").concat((Array(o).join("0")+e.getDate()).slice(-o),"日")}};return o[e](t)}}function Z(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function tt(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Z(o,!0).forEach(function(e){Object($["a"])(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Z(o).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}var et={name:"LoginPanel",data:function(){return{rootPortraitHighlighted:!0,rootPortraitHighlight:null,guestPortraitHighlight:null,loginPassword:""}},computed:tt({},Object(H["c"])(["loginUserType"]),{currentUser:function(){return this.rootPortraitHighlighted?"Craster":"Guest"}}),mounted:function(){R(".login-container"),this.rootPortraitHighlight=A("#portrait-guest","#portrait-root",".login-container"),this.guestPortraitHighlight=A("#portrait-root","#portrait-guest",".login-container")},methods:tt({},Object(H["b"])(["setLoginUserType"]),{portraitClicked:function(t){var e=t.target.id;"portrait-root"===e&&!1===this.rootPortraitHighlighted?(this.rootPortraitHighlight.play(),this.rootPortraitHighlighted=!0):"portrait-guest"===e&&!0===this.rootPortraitHighlighted&&(this.guestPortraitHighlight.play(),this.rootPortraitHighlighted=!1)},forgetPasswordLinkClicked:function(){this.$message({message:"重置密码什么的是不可能有的啦，密码都能忘，还是别登陆了！",type:"warning"})},handleLoginButtonClick:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:"login"===e?this.rootPortraitHighlighted?this.handleRootUserLogin():this.handleGuestUserLogin():this.rootPortraitHighlighted?this.$message({message:"抱歉，「取消」功能是根据颜值开启的！",type:"error"}):this.$message({message:"抱歉，「访客有东西」功能仍在开发中！",type:"warning"});case 1:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),handleRootUserLogin:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(){var e,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.loginPassword){t.next=3;break}return this.$message({message:"请输入密码以登陆！",type:"warning"}),t.abrupt("return");case 3:return t.next=5,K.getSingleGist(v);case 5:e=t.sent,o=q(e)["user.js"].content,this.loginPassword===o.password?(this.$message({message:"Bingo, welcome!",type:"success"}),g.setAttribute(h,b.ROOT,1),this.setLoginUserType(b.ROOT),console.log(this.loginUserType),this.$router.push("home/todolist")):this.$message({message:"抱歉，您输入的密码有误！",type:"error"});case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleGuestUserLogin:function(){this.$message({message:"Hello！",type:"warning"}),g.setAttribute(h,b.GUEST_ORDINARY,1),this.setLoginUserType(b.GUEST_ORDINARY),this.$router.push("home/blog")}})},ot=et,nt=(o("5514"),Object(l["a"])(ot,D,P,!1,null,"96298d8e",null)),it=nt.exports,st={name:"Login",components:{LoginPanel:it},data:function(){return{}},mounted:function(){},computed:{},methods:{}},at=st,rt=(o("21e0"),Object(l["a"])(at,x,j,!1,null,"11401db7",null)),lt=rt.exports,ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"home-header"},[n("img",{attrs:{src:o("93d3")}}),n("el-menu",{staticClass:"header-menu",attrs:{"default-active":t.activeMenu,mode:"horizontal","background-color":"#007add","text-color":"#fff","active-text-color":"#f67505"},on:{select:t.handleMenuSelect}},t._l(t.userMenu,function(e){return n("el-menu-item",{key:e.index,attrs:{index:e.index}},[t._v(t._s(e.name))])}),1),n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.handleTokenClickOutside,expression:"handleTokenClickOutside"},{name:"show",rawName:"v-show",value:t.isRootUserLogin,expression:"isRootUserLogin"}],staticClass:"header-token",class:{"header-token-collapse":t.isTokenElementCollapse},on:{click:t.handleTokenContainerClicked}},[n("div",{staticClass:"header-token-submit",class:{"display-none":t.isTokenElementCollapse}},[n("div",{staticClass:"token-input",on:{click:function(t){t.stopPropagation()}}},[n("el-input",{attrs:{size:"small",disabled:t.isTokenBinded},model:{value:t.accessToken,callback:function(e){t.accessToken=e},expression:"accessToken"}})],1),n("el-button",{staticStyle:{"margin-left":"5px"},attrs:{disabled:t.isTokenBinded,size:"small"},on:{click:function(e){return e.stopPropagation(),t.handleTokenBind(e)}}},[t._v("绑定")]),n("el-button",{staticStyle:{"margin-left":"2px"},attrs:{disabled:!t.isTokenBinded,size:"small"},on:{click:function(e){return e.stopPropagation(),t.handleTokenDebind(e)}}},[t._v("解绑")])],1),n("div",{staticClass:"header-token-tip",class:{"display-none":!t.isTokenElementCollapse}},[n("span",[t._v("token")]),t.isTokenBinded?n("i",{staticClass:"el-icon-success"}):n("i",{staticClass:"el-icon-warning"})])]),n("div",{staticClass:"header-user"},[n("el-dropdown",{attrs:{size:"medium"},on:{command:t.handleUserLogout}},[n("span",{staticClass:"login-user-name"},[t._v("\n                    Hi, "+t._s(t.isRootUserLogin?"Craster":"Guest")+"\n                    "),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"logout"}},[t._v("退出")])],1)],1)],1)],1),n("div",{staticClass:"home-main"},[n("keep-alive",[n(t.menus[t.activeMenu],{tag:"component"})],1)],1),n("div",{staticClass:"home-footer"},[n("Footer")],1)])},dt=[],ut=o("e67d"),pt=o.n(ut),ft=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},gt=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container-footer"},[o("div",{staticClass:"div-hidden"},[o("div"),o("div"),o("div")]),o("div",{staticClass:"div-show"},[o("span",[t._v("Today is little, tomorrow will more.")]),o("span",[t._v("Copyright© 2019")])])])}],mt={name:"Footer"},ht=mt,bt=(o("221d"),Object(l["a"])(ht,ft,gt,!1,null,"4bb6caba",null)),vt=bt.exports,yt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Tt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-todoPage"},[n("img",{staticClass:"img-portrait",attrs:{alt:"todo-page-icon",src:o("0e8d")}}),n("span",[t._v("别急，努力搬砖中")])])}],kt=(o("f165"),{}),Ot=Object(l["a"])(kt,yt,Tt,!1,null,"74a6d530",null),wt=Ot.exports,Ct=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("div",{staticClass:"items"},t._l(t.divNames,function(e,n){return o("div",{key:n,staticClass:"item"},[t._v("\n            "+t._s(e)+"\n        ")])}),0),o("div",{staticClass:"container-button"},[o("el-button",{on:{click:t.randomScroll}},[t._v("滚动")]),o("span",{staticClass:"tip"},[t._v(t._s(t.tip))])],1)])},_t=[],St={name:"ScrollAnimation",data:function(){return{divNames:["第1个div","第2个div","第3个div","第4个div","第5个div","第6个div","第7个div","第8个div","第9个div","第10个div","第11个div","第12个div"],tip:""}},methods:{randomScroll:function(){var t=document.getElementsByClassName("items")[0],e=(t.scrollWidth-t.clientWidth)*Math.random();this.tip="".concat(t.scrollLeft," -> ").concat(e),this.scrollTo(t,e,"strongEaseOut",300)},scrollTo:function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"easeIn",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300,i={linear:function(t,e,o,n){return o*t/n+e},easeIn:function(t,e,o,n){return o*(t/=n)*t+e},strongEaseIn:function(t,e,o,n){return o*(t/=n)*t*t*t*t+e},strongEaseOut:function(t,e,o,n){return o*((t=t/n-1)*t*t*t*t+1)+e},sineaseIn:function(t,e,o,n){return o*(t/=n)*t*t+e},sineaseOut:function(t,e,o,n){return o*((t=t/n-1)*t*t+1)+e}},s=t.scrollLeft,a=null,r=function r(l){a||(a=l);var c=i[o](l-a,s,e-s,n);t.scrollLeft=c,console.log(t.scrollLeft),(s>e&&t.scrollLeft>e||s<e&&t.scrollLeft<e)&&requestAnimationFrame(r)};requestAnimationFrame(r)}}},xt=St,jt=(o("f001"),Object(l["a"])(xt,Ct,_t,!1,null,null,null)),Dt=jt.exports,Pt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container-todolist"},[o("TodolistNav",{staticClass:"container-todolist-nav",attrs:{todolists:t.todolists}}),o("TodolistDetail",{staticClass:"container-todolist-detail",attrs:{todolistData:t.selectedTodolistData}}),o("TodolistEditor",{staticClass:"container-todolist-editor",attrs:{selectedBlockData:t.selectedBlockData}}),o("AddTagDialog",{attrs:{visible:t.showAddTagDialog,options:t.addTagDialogConfig.options,confirm:t.addTodoList},on:{"add-todolist":t.addTodoList,"update:visible":function(e){t.showAddTagDialog=e}}})],1)},Bt=[],$t=(o("6762"),o("2fdb"),new n["default"]),Et=o("2361"),It=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-dialog",{staticClass:"add-tag-dialog",attrs:{title:t.options.title,visible:t.visible,width:"380px"},on:{"update:visible":t.updateVisible}},[o("div",{staticClass:"add-tag-nameContainer"},[o("span",[t._v("Todolist名称：")]),o("el-input",{staticClass:"add-tag-nameContainer-nameInput",attrs:{placeholder:"请输入todolist名称",maxlength:"8",size:"small","show-word-limit":""},model:{value:t.options.fileName,callback:function(e){t.$set(t.options,"fileName",e)},expression:"options.fileName"}})],1),o("div",{staticClass:"add-tag-typeContainer"},[o("span",[t._v("Todolist类型：")]),o("el-select",{staticClass:"add-tag-typeContainer-typeSelect",attrs:{disabled:!("create"===t.options.type),placeholder:"请选择todolist类型",size:"small"},model:{value:t.options.todolistType,callback:function(e){t.$set(t.options,"todolistType",e)},expression:"options.todolistType"}},t._l(t.todolistTypes,function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}},[o("span",{staticStyle:{float:"left"}},[t._v(t._s(e.label))]),o("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(e.value))])])}),1)],1),o("div",{staticClass:"add-tag-colorContainer"},[o("span",[t._v("颜色标志：")]),o("el-color-picker",{attrs:{size:"small",predefine:t.predefineColors,"show-alpha":""},model:{value:t.options.todolistColor,callback:function(e){t.$set(t.options,"todolistColor",e)},expression:"options.todolistColor"}})],1),o("div",{staticClass:"add-tag-buttonsContainer"},[o("el-button",{attrs:{size:"small"},on:{click:function(e){return t.updateVisible(!1)}}},[t._v("取消")]),o("el-button",{attrs:{size:"small"},on:{click:t.confirmAddTodolist}},[t._v("确认")])],1)])},Nt=[],Rt=(o("7f7f"),{name:"AddTagDialog",props:{visible:{type:Boolean,default:!1},options:{type:Object,default:function(){}},confirm:{type:Function}},data:function(){return{todolistTypes:[{value:"todolist",label:"todo清单"},{value:"report",label:"报告类"},{value:"record",label:"日常记录"}],predefineColors:["rgba(0, 122, 221, 1)","#ff4500","#ffd700","#90ee90","#00ced1","rgb(255, 120, 0)","hsl(181, 100%, 37%)"]}},methods:{updateVisible:function(t){this.$emit("update:visible",t)},confirmAddTodolist:function(){if(""!==this.options.name){var t=(new Date).valueOf();this.options.uid?this.options.lastModiifyTime=t:(this.options.uid="todolist-"+t,this.options.createdTime=this.options.lastModiifyTime=t),delete this.options.title,this.confirm(this.options),this.updateVisible(!1)}else this.$message({message:"请输入Todolist名称！",type:"error"})}}}),At=Rt,Mt=(o("c327"),Object(l["a"])(At,It,Nt,!1,null,null,null)),zt=Mt.exports,Lt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todolist-nav"},[o("div",{staticClass:"common-content-title"},[t._v("Todo List")]),o("div",{staticClass:"todolist-nav-items"},t._l(t.todolists,function(t,e){return o("Rag",{key:e,attrs:{todolist:t}})}),1),o("div",{staticClass:"todolist-nav-add"},[o("i",{staticClass:"el-icon-circle-plus-outline common-icon-animation",on:{click:t.handleAddTodolistIconClicked}})])])},Ut=[],Ht=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container-tag",class:{selectedRag:t.isSelected},style:{backgroundColor:t.todolistContent.todolistColor},on:{click:function(e){return t.handleTodolistRagClicked(t.todolistContent.uid)}}},[o("span",[t._v(t._s(t.todolistContent.fileName))]),o("i",{staticClass:"el-icon-circle-close common-icon-animation",on:{click:function(e){return e.stopPropagation(),t.handleDeleteIconClicked(e)}}}),o("i",{staticClass:"el-icon-setting common-icon-animation",on:{click:function(e){return e.stopPropagation(),t.handleSettingIconClicked(e)}}})])},Ft=[];function Gt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function Vt(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Gt(o,!0).forEach(function(e){Object($["a"])(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Gt(o).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}var Yt={name:"Rag",props:["todolist"],computed:Vt({},Object(H["c"])(["selectedTodolistName"]),{todolistContent:function(){return this.todolist.content},isSelected:function(){return this.todolistContent.uid===this.selectedTodolistName}}),methods:Vt({},Object(H["b"])(["setSelectedTodolistName","setSelectedTodolistType"]),{scrollToBottom:function(){var t=this;this.$nextTick(function(){var e=document.getElementById("div-todolistDetailContent");!e||e.scrollTop>0||t.$anime({targets:e,easing:"easeInOutCubic",duration:"1500",scrollTop:[0,e.scrollHeight]})})},handleTodolistRagClicked:function(t){t===this.selectedTodolistName?(this.setSelectedTodolistName(""),this.setSelectedTodolistType("")):(this.setSelectedTodolistName(t),this.setSelectedTodolistType(this.todolistContent.todolistType)),this.scrollToBottom()},handleDeleteIconClicked:function(){var t=this;this.$confirm("确认要删除Todolist「".concat(this.todolistContent.fileName,"」吗，删除后将不可恢复？"),"提示",{type:"warning"}).then(function(){$t.$emit("delete-todolist",t.todolistContent.uid)}).catch(function(t){console.log(t)})},handleSettingIconClicked:function(){$t.$emit("reconfig-todolist",this.todolistContent.uid)}})},Wt=Yt,Jt=(o("4a85"),Object(l["a"])(Wt,Ht,Ft,!1,null,null,null)),Kt=Jt.exports,qt={name:"TodolistNav",components:{Rag:Kt},props:{todolists:{type:Object,default:function(){}}},methods:{handleAddTodolistIconClicked:function(){$t.$emit("show-add-dialog")}}},Xt=qt,Qt=(o("d091"),Object(l["a"])(Xt,Lt,Ut,!1,null,null,null)),Zt=Qt.exports,te=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todolistDetail"},[o("div",{staticClass:"common-content-title todolist-detail-toolContainer"},[o("span",{staticStyle:{"flex-grow":"1"}},[t._v("可用工具")]),o("el-input",{staticStyle:{width:"190px",float:"right","margin-right":"5px"},attrs:{placeholder:"请输入搜索内容",size:"mini"},model:{value:t.searchWord,callback:function(e){t.searchWord=e},expression:"searchWord"}},[o("el-button",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("搜索")])],1),o("el-select",{staticStyle:{width:"90px",float:"right","margin-right":"5px"},attrs:{size:"mini"},model:{value:t.todolistMode,callback:function(e){t.todolistMode=e},expression:"todolistMode"}},t._l(t.displayMode,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),"{}"!==JSON.stringify(t.todolistData)&&"{}"!==JSON.stringify(t.todolistData.todolistContent)?o("div",{staticClass:"todolist-detail-content",attrs:{id:"div-todolistDetailContent"}},t._l(t.todolistData.todolistContent,function(e,n){return o("TodolistBlock",{key:n,attrs:{singleTodolist:e,todolistColor:t.todolistData.todolistColor}})}),1):o("div",{staticClass:"hasNoSelectedTodolist"},[t._v("暂无数据。。。")])])},ee=[],oe=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container-todolist-items",class:{"common-div-highlight":t.isBlockSelected},style:{backgroundColor:t.rgbaOpacityReset(t.todolistColor,.4),borderLeft:"2px solid "+t.rgbaOpacityReset(t.todolistColor,1)},on:{click:t.handleBlockSelected,dblclick:t.handleBlockDbClicked}},[o("div",{staticClass:"todolist-items-title"},[t.isBlockItemAllFinished||t.isReportTypeTodolist?t._e():o("i",{staticClass:"el-icon-warning"}),t._v("\n        "+t._s(t.singleTodolist.title)+"\n        "),o("i",{staticClass:"el-icon-circle-close items-title-deleteIcon common-icon-animation",on:{click:t.handleBlockDeleteIconClicked}}),o("i",{staticClass:"el-icon-document-copy items-title-deleteIcon common-icon-animation",on:{click:function(e){return e.stopPropagation(),t.handleCopyIconClicked(e)}}})]),o("div",{staticClass:"todolist-items",attrs:{id:"block-"+t.singleTodolist.title}},t._l(t.singleTodolist.items,function(e,n){return o("span",{key:n,staticClass:"todolistItem-uneditable",class:{"todolist-conplete":e.finished},attrs:{itemContent:e}},[t.isReportTypeTodolist?o("span",[t._v(t._s(e.itemContent))]):o("span",[t._v(t._s(n+1+". "+e.itemContent))])])}),0),o("div",{staticClass:"todolist-editTime"},[o("span",[t._v("\n            创建时间："+t._s(t.timeValueToLocal(t.singleTodolist.createdTime))+"\n        ")]),o("span",[t._v("\n            最后修改："+t._s(t.timeValueToLocal(t.singleTodolist.lastModifiedTime))+"\n        ")])])])},ne=[];function ie(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function se(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ie(o,!0).forEach(function(e){Object($["a"])(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ie(o).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}var ae=null,re={name:"TodolistBlock",components:{},props:{singleTodolist:{type:Object,default:function(){}},todolistColor:{type:String,default:"#666"}},computed:se({},Object(H["c"])(["selectedBlockName","selectedTodolistType"]),{isReportTypeTodolist:function(){return"report"===this.selectedTodolistType},isBlockSelected:function(){return this.singleTodolist.title===this.selectedBlockName},isBlockItemAllFinished:function(){var t=!0,e=this.singleTodolist.items;return e.forEach(function(e){if(!1===e.finished)return t=!1,t}),t},blockItemsIndex:function(){var t=[];return this.singleTodolist.items.map(function(e){t.push(e.originIndex)}),t}}),methods:se({},Object(H["b"])(["setSelectedBlockName"]),{timeValueToLocal:X,rgbaOpacityReset:function(t,e){return t.slice(0,t.lastIndexOf(",")+1)+e+")"},handleBlockSelected:function(){var t=this;this.singleTodolist.title===this.selectedBlockName||ae||(ae=setTimeout(function(){t.setSelectedBlockName(t.singleTodolist.title),ae=null},50))},handleBlockDbClicked:function(){clearTimeout(ae),this.setSelectedBlockName("")},handleBlockDeleteIconClicked:function(){var t=this;this.$confirm("确认要删除记录「".concat(this.singleTodolist.title,"」吗，删除后将不可恢复？"),"提示",{type:"warning"}).then(function(){$t.$emit(w,t.blockItemsIndex)}).catch(function(t){console.log(t)})},handleCopyIconClicked:function(){var t=this,e=document.getElementById("block-".concat(this.singleTodolist.title)).innerText;this.$copyText(e).then(function(){t.$notify.success({title:"提示",message:"内容已复制"})},function(e){t.$notify.success({title:"提示",message:"复制出错："+e})})}})},le=re,ce=(o("a448"),Object(l["a"])(le,oe,ne,!1,null,null,null)),de=ce.exports,ue={name:"TodolistDetail",components:{TodolistBlock:de},props:{todolistData:{type:Object,default:function(){}}},data:function(){return{todolistMode:"week",searchWord:"",displayMode:[{value:"year",label:"年粒度"},{value:"month",label:"月粒度"},{value:"week",label:"周粒度"},{value:"day",label:"天粒度"}]}},computed:{},watch:{todolistMode:{deep:!0,handler:function(t){$t.$emit(C,t)}},searchWord:{deep:!0,handler:function(){$t.$emit("enter-search-word",this.searchWord)}}}},pe=ue,fe=(o("2b02"),Object(l["a"])(pe,te,ee,!1,null,null,null)),ge=fe.exports,me=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container-editor"},[o("div",{staticClass:"common-content-title"},[t._v("Todolist编辑")]),"{}"!==JSON.stringify(t.selectedBlockData)?o("div",{staticClass:"container-edit-item"},t._l(t.blockItemsData,function(t,e){return o("TodolistItem",{key:t.createdTime+"-"+e,attrs:{itemContent:t,itemIndex:t.originIndex}})}),1):o("div",{staticClass:"container-edit-item",staticStyle:{"text-align":"center"}},[t._v("\n        暂无数据。。。\n    ")]),o("div",{staticClass:"container-add-item"},[o("div",{ref:"editor-textarea",staticClass:"editor-textarea",attrs:{id:"editor-textarea",placeholder:"enter todolist content",contenteditable:""},on:{keydown:t.keyDownHander}}),o("div",{staticClass:"container-add-itemBt"},[o("el-color-picker",{staticClass:"editor-color-picker",attrs:{slot:"prepend",size:"small"},slot:"prepend",model:{value:t.newItem.itemColor,callback:function(e){t.$set(t.newItem,"itemColor",e)},expression:"newItem.itemColor"}}),o("el-date-picker",{attrs:{size:"small",type:"datetime",placeholder:"请选择日期时间"},model:{value:t.pickTime,callback:function(e){t.pickTime=e},expression:"pickTime"}}),o("el-button",{staticClass:"editor-add-input",attrs:{size:"small"},on:{click:t.addTodolistItem}},[t._v("添加")])],1)])])},he=[],be=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container-item"},[t.isReportTypeTodolist?t._e():o("input",{staticClass:"item-checkbox",attrs:{id:t.checkboxId,type:"checkbox"},domProps:{checked:t.itemContent.finished},on:{change:t.handleItemChecked}}),o("label",{attrs:{for:t.checkboxId}}),o("span",{staticClass:"item-editable",attrs:{contenteditable:"true"},on:{blur:t.handleItemLoseFocus}},[t._v(t._s(t.itemContent.itemContent))]),t.isReportTypeTodolist?t._e():o("i",{staticClass:"el-icon-circle-close item-delete-icon common-icon-animation",on:{click:t.handleDeleteItemIconClicked}})])},ve=[];function ye(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function Te(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ye(o,!0).forEach(function(e){Object($["a"])(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ye(o).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}var ke={name:"TodolistItem",props:{itemContent:{type:Object,default:function(){}},itemIndex:{type:Number}},computed:Te({},Object(H["c"])(["selectedTodolistType"]),{checkboxId:function(){return"item-checkbox_"+this.itemIndex},isReportTypeTodolist:function(){return"report"===this.selectedTodolistType}}),methods:{handleItemChecked:function(t){this.itemContent.finished=t.target.checked,this.itemContent.lastModifiedTime=(new Date).valueOf(),$t.$emit(O,this.itemContent,this.itemIndex)},handleDeleteItemIconClicked:function(){$t.$emit(w,[this.itemIndex])},handleItemLoseFocus:function(t){t.target.innerText!==this.itemContent.itemContent&&(this.itemContent.itemContent=t.target.innerText,this.itemContent.lastModifiedTime=(new Date).valueOf(),t.target.innerHTML=t.target.innerText,$t.$emit(O,this.itemContent,this.itemIndex))}}},Oe=ke,we=(o("e242"),Object(l["a"])(Oe,be,ve,!1,null,null,null)),Ce=we.exports;function _e(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function Se(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?_e(o,!0).forEach(function(e){Object($["a"])(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):_e(o).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}var xe={name:"TodolistEditor",components:{TodolistItem:Ce},data:function(){return{newItem:{itemColor:"#aaa",itemContent:"",createdTime:"",lastModifiedTime:"",finished:!1},pickTime:null}},props:{selectedBlockData:{type:Object,default:function(){}}},computed:Se({},Object(H["c"])(["selectedTodolistType"]),{blockItemsData:function(){return this.selectedBlockData?this.selectedBlockData.items:{}},isReportTypeTodolist:function(){return"report"===this.selectedTodolistType}}),methods:{keyDownHander:function(t){13===t.keyCode&&t.shiftKey&&this.addTodolistItem()},clearTextarea:function(){var t=this;this.pickTime=null,setTimeout(function(){t.$refs["editor-textarea"].innerText=""})},addTodolistItem:function(){var t=document.getElementById("editor-textarea");return""===t.innerText?(this.$notify.warning({title:"提示：",message:"输入信息为空！"}),void this.clearTextarea()):"{}"!==JSON.stringify(this.selectedBlockData)&&this.isReportTypeTodolist?(this.$notify.error({title:"提示：",message:"report类型的todolist，只允许添加一条记录！"}),void this.clearTextarea()):(this.newItem.itemContent=t.innerText,this.newItem.lastModifiedTime=this.newItem.createdTime=(new Date).valueOf(),this.pickTime&&(this.newItem.createdTime=new Date(this.pickTime).valueOf()),$t.$emit(k,JSON.parse(JSON.stringify(this.newItem))),void this.clearTextarea())}}},je=xe,De=(o("d887"),Object(l["a"])(je,me,he,!1,null,null,null)),Pe=De.exports;function Be(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function $e(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Be(o,!0).forEach(function(e){Object($["a"])(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Be(o).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}var Ee={name:"TodoList",components:{AddTagDialog:zt,TodolistNav:Zt,TodolistDetail:ge,TodolistEditor:Pe},data:function(){return{todolists:{},showAddTagDialog:!1,todolistShowMode:"week",searchWord:"",addTagDialogConfig:{options:{type:"",title:"",todolistName:"",todolistType:"",todolistColor:"",todolistContent:{}}}}},computed:$e({},Object(H["c"])(["selectedTodolistName","selectedBlockName"]),{selectedTodolistData:function(){if(Object(Et["a"])([this.selectedTodolistName])(this.todolists)){var t=this.todolists[this.selectedTodolistName].content;return t=Q(t,this.todolistShowMode,this.searchWord),t}return{}},selectedBlockData:function(){return Object(Et["a"])(["todolistContent",this.selectedBlockName])(this.selectedTodolistData)?this.selectedTodolistData.todolistContent[this.selectedBlockName]:{}}}),watch:{todolists:{deep:!0,handler:function(){}}},beforeMount:function(){this.getTodolist()},mounted:function(){$t.$on("delete-todolist",this.deleteTodolist),$t.$on("reconfig-todolist",this.reconfigTodolist),$t.$on("show-add-dialog",this.showAddTodolistDialog),$t.$on(k,this.addTodolistItem),$t.$on(O,this.editBlockItem),$t.$on(w,this.deleteBlockItem),$t.$on(C,this.changeTodolistMode),$t.$on("enter-search-word",this.enterSearchWord)},beforeDestroy:function(){$t.$off("delete-todolist",this.deleteTodolist),$t.$off("reconfig-todolist",this.reconfigTodolist),$t.$off("show-add-dialog",this.showAddTodolistDialog),$t.$off(k,this.addTodolistItem),$t.$off(O,this.editBlockItem),$t.$off(w,this.deleteBlockItem),$t.$off(C,this.changeTodolistMode)},methods:$e({},Object(H["b"])(["setSelectedBlockName"]),{getTodolist:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$loading({lock:!0,text:"加载中。。。",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),t.t0=q,t.next=4,K.getSingleGist(y);case 4:t.t1=t.sent,this.todolists=(0,t.t0)(t.t1),e.close();case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),showAddTodolistDialog:function(){this.addTagDialogConfig.options={title:"新建Todo List",fileName:"",todolistType:"todolist",todolistColor:"rgba(0, 122, 221, 1)",todolistContent:[]},this.showAddTagDialog=!0},addTodoList:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(e){var o,n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,K.addGistFile(y,e);case 2:o=t.sent,200===o.status?(n="「新增 / 更改」Todolist成功！",this.$message.success(n),this.todolists=q(o)):(i="「新增 / 更改」Todolist配置失败！",this.$message.error(i));case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),deleteTodolist:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(e){var o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,K.deleteGistFile(y,e);case 2:o=t.sent,200===o.status?(this.$message.success("Todolist删除成功！"),this.todolists=q(o)):this.$message.error("Todolist删除失败！");case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),reconfigTodolist:function(t){var e=this.todolists[t].content;this.addTagDialogConfig.options=$e({title:"更改配置"},e),this.showAddTagDialog=!0},addTodolistItem:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(e){var o,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.todolists[this.selectedTodolistName]){t.next=3;break}return this.$message.error("未选定todolist，无法进行添加！"),t.abrupt("return");case 3:return o=this.todolists[this.selectedTodolistName].content,o.todolistContent.push(e),t.next=7,K.editGistFile(y,o);case 7:n=t.sent,200===n.status?this.$message.success("添加Todolist Item成功！"):this.$message.error("添加Todolist Item失败！");case 9:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),editBlockItem:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(e,o){var n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=this.todolists[this.selectedTodolistName].content,delete e["originIndex"],n.todolistContent.splice(o,1,e),t.next=5,K.editGistFile(y,n);case 5:i=t.sent,200===i.status?this.$message.success("Todolist Item「更改状态」成功！"):this.$message.error("Todolist Item「更改状态」失败！");case 7:case"end":return t.stop()}},t,this)}));function e(e,o){return t.apply(this,arguments)}return e}(),deleteBlockItem:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(e){var o,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=this.todolists[this.selectedTodolistName].content,o.todolistContent=o.todolistContent.filter(function(t,o){return!e.includes(o)}),this.todolists[this.selectedTodolistName].content=o,t.next=5,K.editGistFile(y,o);case 5:n=t.sent,200===n.status?this.$message.success("Todolist Item「删除」成功！"):this.$message.error("Todolist Item「删除」失败！");case 7:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),changeTodolistMode:function(t){this.todolistShowMode=t},enterSearchWord:function(t){this.searchWord=t}})},Ie=Ee,Ne=(o("f910"),Object(l["a"])(Ie,Pt,Bt,!1,null,null,null)),Re=Ne.exports,Ae=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container-blog"},[o("div",{staticClass:"blog-table-header"},[o("el-input",{staticStyle:{width:"200px",margin:"0 0 0 10px"},attrs:{placeholder:"请输入搜索内容",size:"small"},model:{value:t.searchWord,callback:function(e){t.searchWord=e},expression:"searchWord"}},[o("el-button",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("搜索")])],1),o("el-button",{staticStyle:{float:"right",margin:"5px 10px 0 0"},attrs:{size:"small",icon:"el-icon-circle-plus",type:"primary"},on:{click:t.showAddBlog}},[t._v("新建博客")])],1),o("BaseTable",{attrs:{blogs:t.tableCurrentPageData,columns:t.columns},scopedSlots:t._u([{key:"index",fn:function(e){var o=e.$index;return[t._v(t._s(o+1))]}},{key:"category",fn:function(e){var n=e.row;return[o("el-tag",{attrs:{size:"mini",type:"warning"}},[t._v(t._s(n.category))])]}},{key:"label",fn:function(e){var n=e.row;return t._l(n.label,function(e,n){return o("el-tag",{key:n,attrs:{size:"mini"}},[t._v(t._s(e))])})}},{key:"createdTime",fn:function(e){var o=e.row;return[t._v(t._s(t.timeValueToLocal(o.createdTime)))]}},{key:"lastModiifyTime",fn:function(e){var o=e.row;return[t._v(t._s(t.timeValueToLocal(o.lastModiifyTime)))]}},{key:"status",fn:function(e){var o=e.row;return[t._v(t._s(t.BLOG_STATUS[o.status]))]}},{key:"opt",fn:function(e){var n=e.row;return[o("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){return t.editBlogInfo(n)}}},[t._v("编辑博客")]),o("el-button",{attrs:{size:"mini",type:"primary",plain:""}},[t._v("复制分享链接")]),o("el-button",{attrs:{size:"mini",type:"danger",plain:""},on:{click:function(e){return t.confirmDeleteBlog(n)}}},[t._v("删除")])]}}])}),o("Pagination",{staticClass:"blog-pagination",attrs:{"page-size":t.pageSize,"current-page":t.pageIndex,total:t.blogsTableData.length},on:{"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"update:currentPage":function(e){t.pageIndex=e},"update:current-page":function(e){t.pageIndex=e}}}),o("AddBlogDialog",{attrs:{visible:t.isShowAddBlogDialog,options:t.options,categoryAndLabelSet:t.categoryAndLabelSet,confirm:t.addBlog},on:{"update:visible":function(e){t.isShowAddBlogDialog=e},isShowEditBlogDialog:function(e){t.isShowEditBlogDialog=!0}}}),o("EditBlogDialog",{attrs:{visible:t.isShowEditBlogDialog,blogContent:t.focusBlogData.content,save:t.editBlogContent},on:{"update:visible":function(e){t.isShowEditBlogDialog=e}}})],1)},Me=[],ze=(o("5df3"),o("4f7f"),o("8615"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-table",{attrs:{data:t.blogs}},t._l(t.columns,function(e,n){return o("el-table-column",t._b({key:n,attrs:{align:"center"},scopedSlots:t._u([{key:"default",fn:function(o){return[e.slotName?t._t(e.slotName,null,null,o):[t._v(t._s(o.row[e.prop]))]]}}],null,!0)},"el-table-column",e,!1))}),1)}),Le=[],Ue={name:"BaseTable",props:{blogs:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}}},mounted:function(){}},He=Ue,Fe=Object(l["a"])(He,ze,Le,!1,null,null,null),Ge=Fe.exports,Ve=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-pagination",{attrs:{"current-page":t.currentPageSync,"page-sizes":[1,2,3],"page-size":t.pageSizeSync,background:"",layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentPageChange,"update:currentPage":function(e){t.currentPageSync=e},"update:current-page":function(e){t.currentPageSync=e},"update:pageSize":function(e){t.pageSizeSync=e},"update:page-size":function(e){t.pageSizeSync=e}}})],1)},Ye=[],We={name:"Pagination",props:{pageSize:{type:Number,default:10},currentPage:{type:Number,default:1},total:{type:Number,default:0}},data:function(){return{pageSizeSync:1,currentPageSync:1}},watch:{pageSize:{immediate:!0,handler:function(){this.pageSizeSync=this.pageSize}},currentPage:{immediate:!0,handler:function(){this.currentPageSync=this.currentPage}}},methods:{handleSizeChange:function(){this.$emit("update:pageSize",this.pageSizeSync)},handleCurrentPageChange:function(){this.$emit("update:currentPage",this.currentPageSync)}}},Je=We,Ke=Object(l["a"])(Je,Ve,Ye,!1,null,null,null),qe=Ke.exports,Xe=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-dialog",{staticClass:"container-add-blog",attrs:{title:t.options.title,visible:t.visible,width:"400px"},on:{"update:visible":t.updateVisible}},[o("div",[o("label",[t._v("博客标题：")]),o("el-input",{staticStyle:{width:"193px"},attrs:{size:"small",placeholder:"请输入博客标题"},model:{value:t.options.name,callback:function(e){t.$set(t.options,"name",e)},expression:"options.name"}})],1),o("div",[o("label",[t._v("分类：")]),o("el-select",{attrs:{size:"small",placeholder:"请选择博客分类",filterable:"","default-first-option":"","allow-create":""},model:{value:t.options.category,callback:function(e){t.$set(t.options,"category",e)},expression:"options.category"}},t._l(t.categoryAndLabelSet.category,function(t,e){return o("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1),o("div",[o("label",[t._v("标签：")]),o("el-select",{attrs:{size:"small",placeholder:"请选择博客标签",multiple:"",filterable:"","default-first-option":"","allow-create":""},model:{value:t.options.label,callback:function(e){t.$set(t.options,"label",e)},expression:"options.label"}},t._l(t.categoryAndLabelSet.label,function(t,e){return o("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1),o("div",[o("label",[t._v("发布状态：")]),o("el-select",{attrs:{size:"small",placeholder:"请选择博客发布状态"},model:{value:t.options.status,callback:function(e){t.$set(t.options,"status",e)},expression:"options.status"}},t._l(t.blogStatus,function(t,e){return o("el-option",{key:e,attrs:{label:t.label,value:t.value}})}),1)],1),o("div",[o("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:t.confirmSubmit}},[t._v("确定")]),o("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:t.showEditBlogDialog}},[t._v("编辑内容")])],1)])},Qe=[],Ze={name:"AddBlogDialog",props:{visible:{type:Boolean,default:!1},options:{type:Object,default:function(){}},categoryAndLabelSet:{type:Object,default:function(){}},confirm:{type:Function}},data:function(){return{blogStatus:[{value:0,label:"待发布"},{value:1,label:"仅自己可见"},{value:2,label:"所有人可见"}]}},methods:{updateVisible:function(t){this.$emit("update:visible",t)},showEditBlogDialog:function(){this.$emit("isShowEditBlogDialog",!0),this.updateVisible(!1)},confirmSubmit:function(){var t=(new Date).valueOf();this.options.name&&this.options.category&&0!==this.options.label.length?(this.options.uid?this.options.lastModiifyTime=t:(this.options.uid="blog-"+t,this.options.content="",this.options.createdTime=this.options.lastModiifyTime=t),delete this.options.title,this.confirm(this.options),this.updateVisible(!1)):this.$message.error("请完善blog信息！")}}},to=Ze,eo=(o("9f6d"),Object(l["a"])(to,Xe,Qe,!1,null,"2a165d60",null)),oo=eo.exports,no=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-dialog",{attrs:{visible:t.visible,width:"70%"},on:{"update:visible":t.updateVisible}},[o("mavon-editor",{on:{save:t.save},model:{value:t.blogContentSync,callback:function(e){t.blogContentSync=e},expression:"blogContentSync"}})],1)},io=[],so={name:"EditBlogDialog",props:{blogContent:{type:String,default:""},visible:{type:Boolean,default:!1},save:{type:Function}},data:function(){return{blogContentSync:""}},watch:{blogContent:{immediate:!0,handler:function(){this.blogContentSync=this.blogContent}}},methods:{updateVisible:function(t){this.$emit("update:visible",t)}}},ao=so,ro=Object(l["a"])(ao,no,io,!1,null,"70a09bdd",null),lo=ro.exports;function co(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function uo(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?co(o,!0).forEach(function(e){Object($["a"])(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):co(o).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}var po={name:"BlogEditor",components:{BaseTable:Ge,Pagination:qe,AddBlogDialog:oo,EditBlogDialog:lo},data:function(){return{blogs:{},searchWord:"",pageSize:3,pageIndex:1,focusBlogData:{},isShowAddBlogDialog:!1,isShowEditBlogDialog:!1,options:{title:"",name:"",category:"",label:[],status:-1},BLOG_STATUS:{0:"待发布",1:"仅自己可见",2:"所有人可见"},columns:[{slotName:"index",label:"序号"},{prop:"name",label:"博客名称"},{slotName:"category",label:"分类"},{slotName:"label",label:"标签"},{slotName:"createdTime",label:"创建时间"},{slotName:"lastModiifyTime",label:"最后修改时间"},{slotName:"status",label:"博客状态"},{slotName:"opt",label:"操作",width:"280px"}]}},computed:{blogsTableData:function(){var t=Object.values(this.blogs);return t=t.map(function(t){return t.content}),t},tableCurrentPageData:function(){return this.blogsTableData.slice((this.pageIndex-1)*this.pageSize,this.pageIndex*this.pageSize)},categoryAndLabelSet:function(){var t=new Set,e=new Set;return this.blogsTableData.forEach(function(o){t.add(o.category),o.label.forEach(function(t){e.add(t)})}),{category:t,label:e}}},mounted:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$loading({lock:!0,text:"加载中。。。",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),t.t0=q,t.next=4,K.getSingleGist(T);case 4:t.t1=t.sent,this.blogs=(0,t.t0)(t.t1),e.close();case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{timeValueToLocal:X,showAddBlog:function(){this.options={title:"新建博客",name:"",category:"",label:[],status:0},this.isShowAddBlogDialog=!0},editBlogInfo:function(t){this.options=uo({title:"编辑博客"},t),this.isShowAddBlogDialog=!0,this.focusBlogData=t},confirmDeleteBlog:function(t){var e=this;this.$confirm("确认要删除Blog「".concat(t.name,"」吗，删除后将不可恢复？"),"提示",{type:"warning"}).then(function(){e.deleteBlog(t.uid)}).catch(function(t){console.log(t)})},addBlog:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(e){var o,n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,K.editGistFile(T,e);case 2:o=t.sent,200===o.status?(n="「新增/更改」Blog配置成功！",this.$message.success(n),this.blogs=q(o)):(i="「新增/更改」Blog配置失败！",this.$message.error(i));case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),deleteBlog:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(e){var o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,K.deleteGistFile(T,e);case 2:o=t.sent,200===o.status?(this.$message.success("Blog删除成功！"),this.blogs=q(o)):this.$message.error("Blog删除失败！");case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),editBlogContent:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(e){var o,n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.focusBlogData.content=e,this.focusBlogData.lastModiifyTime=Date.now(),t.next=4,K.editGistFile(T,this.focusBlogData);case 4:o=t.sent,200===o.status?(n="「更改」Blog「".concat(this.focusBlogData.name,"」内容成功！"),this.$message.success(n)):(i="「更改」Blog「".concat(this.focusBlogData.name,"」内容失败！"),this.$message.error(i));case 6:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}},fo=po,go=(o("d425"),Object(l["a"])(fo,Ae,Me,!1,null,"17f83fbc",null)),mo=go.exports;function ho(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function bo(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ho(o,!0).forEach(function(e){Object($["a"])(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ho(o).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}var vo={name:"Home",components:{Footer:vt,TodoPage:wt,ScrollAnimation:Dt},data:function(){return{menus:{"blog-manage":mo,blog:wt,todolist:Re,aboutme:Dt},accessToken:g.getAttribute(m)||"",isTokenElementCollapse:!0}},directives:{ClickOutside:pt.a},mounted:function(){console.log("user:",this.loginUserType)},computed:bo({},Object(H["c"])(["loginUserType","token"]),{userMenu:function(){return this.loginUserType===b.ROOT?_:S},activeMenu:function(){return this.$route.params.menuName},isRootUserLogin:function(){return this.loginUserType===b.ROOT},isTokenBinded:function(){return!!this.token.token}}),methods:{handleMenuSelect:function(t){this.activeMenu!==t&&this.$router.push(t)},handleTokenBind:function(){this.$store.dispatch("Authentication",this.accessToken)},handleTokenDebind:function(){this.$store.dispatch("Cancellation"),this.accessToken=""},handleUserLogout:function(){g.remove(h),this.$router.go(0)},handleTokenContainerClicked:function(){this.isTokenElementCollapse=!this.isTokenElementCollapse},handleTokenClickOutside:function(){this.isTokenElementCollapse=!0}}},yo=vo,To=(o("de16"),Object(l["a"])(yo,ct,dt,!1,null,null,null)),ko=To.exports;n["default"].use(u["a"]);var Oo=new u["a"]({routes:[{path:"/",name:"root"},{path:"/login",name:"login",component:lt},{path:"/home",redirect:"/home/blog"},{path:"/home/:menuName",component:ko},{path:"/about",name:"about",component:function(){return o.e("about").then(o.bind(null,"f820"))}}]});Oo.beforeEach(function(t,e,o){var n=g.getAttribute(h);n?"/"===t.path?o("/home"):o():"/login"!==t.path?o("/login"):o()});var wo=Oo,Co=o("4eb5"),_o=o.n(Co),So=(o("0fae"),o("98c9")),xo=(o("352e"),o("b2d8")),jo=o.n(xo);o("64e1");n["default"].use(U.a),n["default"].use(I.a),n["default"].use(So["a"]),n["default"].use(_o.a),n["default"].use(jo.a),n["default"].config.productionTip=!1,new n["default"]({router:wo,store:Y,render:function(t){return t(d)}}).$mount("#app")},6153:function(t,e,o){},"8aeb":function(t,e,o){t.exports=o.p+"img/root.c9e17205.png"},"8b92":function(t,e,o){},9080:function(t,e,o){},"93d3":function(t,e,o){t.exports=o.p+"img/logo_1.50c2f0ec.png"},"963a":function(t,e,o){},9710:function(t,e,o){},"974a":function(t,e,o){},"988d":function(t,e,o){},"9f6d":function(t,e,o){"use strict";var n=o("6153"),i=o.n(n);i.a},a448:function(t,e,o){"use strict";var n=o("556a"),i=o.n(n);i.a},ad24:function(t,e,o){},afa2:function(t,e,o){"use strict";var n=o("963a"),i=o.n(n);i.a},bfbb:function(t,e,o){},c327:function(t,e,o){"use strict";var n=o("988d"),i=o.n(n);i.a},c42c:function(t,e,o){},cb2f:function(t,e,o){},ce7e:function(t,e,o){},d091:function(t,e,o){"use strict";var n=o("9710"),i=o.n(n);i.a},d425:function(t,e,o){"use strict";var n=o("bfbb"),i=o.n(n);i.a},d887:function(t,e,o){"use strict";var n=o("974a"),i=o.n(n);i.a},de16:function(t,e,o){"use strict";var n=o("f3e7"),i=o.n(n);i.a},e242:function(t,e,o){"use strict";var n=o("1c8e"),i=o.n(n);i.a},e8c9:function(t,e,o){t.exports=o.p+"img/guest.66202463.png"},f001:function(t,e,o){"use strict";var n=o("ce7e"),i=o.n(n);i.a},f165:function(t,e,o){"use strict";var n=o("2c7d"),i=o.n(n);i.a},f3e7:function(t,e,o){},f910:function(t,e,o){"use strict";var n=o("ad24"),i=o.n(n);i.a}});